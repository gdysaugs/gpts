# NVIDIAç«¶åˆä¿®æ­£ç‰ˆDockerfile
FROM super-wav2lip:v1-gpu-tensorrt

# ç«¶åˆã™ã‚‹NVIDIAãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ï¼ˆPyCUDAã¯ãƒ›ã‚¹ãƒˆCUDAä½¿ç”¨ï¼‰
RUN rm -f /usr/lib/x86_64-linux-gnu/libnvidia-*.so* && \
    rm -f /usr/lib/x86_64-linux-gnu/libcuda.so* && \
    rm -f /usr/lib/x86_64-linux-gnu/libcudart.so* && \
    echo "âœ… NVIDIAç«¶åˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªå‰Šé™¤å®Œäº†ï¼ˆãƒ›ã‚¹ãƒˆCUDAä¾å­˜ï¼‰"

# ç¢ºèªã‚³ãƒãƒ³ãƒ‰
RUN echo "ğŸš€ TensorRTç¢ºèª:" && \
    python -c "import tensorrt as trt; print(f'TensorRT {trt.__version__} OK')" && \
    echo "ğŸš€ PyCUDAç¢ºèª:" && \
    python -c "import pycuda.driver as cuda; print('PyCUDA OK')"